<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">
	<title>Document</title>
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/font-awesome.min.css">
	<link rel="stylesheet" href="css/banner_slider.css">
</head>
<body>
	<div id="header">
		<div class="inner-header">
			<div class="logo"><h1>Pets Raiser</h1></div>
			<div class="nav-btn"><i class="fa fa-reorder"></i></div>
			<nav>
				<ul class="nav-item-ctn">
					<li class="nav-item">
						<a href="#">
							<span class="nav-icon"><i class="fa fa-home"></i></span>
							<span class="nav-title">首页</span>
						</a>
					</li>
					<li class="nav-item nav-collapse">
						<a href="#">
							<span class="nav-icon"><i class="fa fa-cube"></i></span>
							<span class="nav-title">服务项目</span>
							<span class="nav-icon-collapse"><i class="fa fa-plus"></i></span>
						</a>
						<ul class="nav-item-c-ul">
							<li class="nav-item-c-li"><a href="#">宠物美容</a></li>
							<li class="nav-item-c-li"><a href="#">宠物医疗</a></li>
							<li class="nav-item-c-li"><a href="#">宠物寄养</a></li>
							<li class="nav-item-c-li"><a href="#">宠物训练</a></li>
						</ul>
					</li>
					<li class="nav-item">
						<a href="#">
							<span class="nav-icon"><i class="fa fa-user-circle-o"></i></span>
							<span class="nav-title">关于我们</span>
						</a>
					</li>
					<li class="nav-item">
						<a href="#">
							<span class="nav-icon"><i class="fa fa-book"></i></span>
							<span class="nav-title">成功案例</span>
						</a>
					</li>
					<li class="nav-item">
						<a href="#">
							<span class="nav-icon"><i class="fa fa-phone"></i></span>
							<span class="nav-title">联系我们</span>
						</a>
					</li>
				</ul>
			</nav>
		</div>
		<div class="header-cover"></div>
	</div>
	<div class="banner">
		<div id="banner_img_ctn"></div>
	</div>
	<div class="news">
		<div class="inner-news">
			<div class="news-section-title">新闻栏目</div>
			<div class="news-grid">
				<a href="#">
					<span class="news-thumb"><img src="images/dog1.jpg" alt=""></span>
					<span class="news-title">新闻标题</span>
					<span class="news-details">
						测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
					</span>
				</a>
			</div>
			<div class="news-grid">
				<a href="#">
					<span class="news-thumb"><img src="images/dog2.jpg" alt=""></span>
					<span class="news-title">新闻标题</span>
					<span class="news-details">
						测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
					</span>
				</a>
			</div>
			<div class="news-grid">
				<a href="#">
					<span class="news-thumb"><img src="images/dog1.jpg" alt=""></span>
					<span class="news-title">新闻标题</span>
					<span class="news-details">
						测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
					</span>
				</a>
			</div>
			<div class="news-grid">
				<a href="#">
					<span class="news-thumb"><img src="images/dog2.jpg" alt=""></span>
					<span class="news-title">新闻标题</span>
					<span class="news-details">
						测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试测试
					</span>
				</a>
			</div>
		</div>
	</div>
	<div class="service">
		<div class="inner-service">
			<div class="service-section-title">服务内容</div>
			<div class="service-grid">
				<a href="#">
					宠物医疗
				</a>
			</div>
			<div class="service-grid">
				<a href="#">
					宠物美容
				</a>
			</div>
			<div class="service-grid">
				<a href="#">
					宠物寄养
				</a>
			</div>
			<div class="service-grid">
				<a href="#">
					宠物训练
				</a>
			</div>
		</div>
	</div>
	<script src="js/jquery-1.8.3.min.js"></script>
	<script src="js/banner_slider.js"></script>
	<script>
		var size = window.getComputedStyle(document.body,':after').getPropertyValue('content');
		if(size.indexOf("Splus")!=-1){
			var nav_flag = false;
			$('.nav-btn').click(function(){
				if(!nav_flag){
					$("nav").addClass('nav-active');
					$('.header-cover').show();
					nav_flag = true;
				}
			});
			$('.header-cover').click(function(){
				$('nav').removeClass('nav-active');
				$('.header-cover').hide();
				nav_flag = false;
			});
			$('.header-cover').on('touchmove',function(e){e.preventDefault()});
			$('nav').on('touchmove',function(e){e.preventDefault()});
			$('.nav-item').click(function(){
				if($(this).attr('class').indexOf('nav-collapse')!=-1){
					$(this).removeClass('nav-collapse').addClass('uncollapse');
					$(this).find('.fa').removeClass('fa-plus').addClass('fa-minus');
					var li_height = $(this).find('.nav-item-c-li').outerHeight();
					var length = $(this).find('.nav-item-c-li').length;
					var total_height = li_height*length+'px';
					console.log(li_height);
					$(this).find('.nav-item-c-ul').css({"height":total_height});
				}
				else if($(this).attr('class').indexOf('uncollapse')!=-1){
					$(this).removeClass('uncollapse').addClass('nav-collapse');
					$(this).find('.fa').removeClass('fa-minus').addClass('fa-plus');
					$(this).find('.nav-item-c-ul').css({"height":'0px'});
				}
			});
			var arr = [{a_href:"#1",img_src:'images/banner3.jpg'},{a_href:"#",img_src:"images/banner2.jpg"},{a_href:"#",img_src:"images/banner3.jpg"},{a_href:"#",img_src:"images/banner4.jpg"}];
			var slider = new SliderLoopImg(arr,'#banner_img_ctn');
			slider.create();
			slider.autoRun();
			slider.changeImage();
		}else if(size.indexOf("Lplus")!=-1){
			$('.nav-collapse').mouseenter(function(){
				var li_height = $(this).find('.nav-item-c-li').outerHeight();
				var length = $(this).find('.nav-item-c-li').length;
				var total_height = li_height*length+'px';
				$(this).find('.nav-item-c-ul').css({"height":total_height});
				$(this).find('.nav-item-c-li').each(function(){
					var $li_this = $(this);
					var index = $li_this.index();
					$li_this.css({"transform":"translateX(0)","transition-delay":index*0.2+'s',"transition-duration":"0.2s"});
				});
			}).mouseleave(function(){
				var li_width = $(this).find('.nav-item-c-li').outerWidth();
				$(this).find('.nav-item-c-li').css({"transform":"translateX("+li_width+"px)","transition-delay":'0s',"transition-duration":"0s"});
				$(this).find('.nav-item-c-ul').css({"height":'0'});
			});
			var arr = [{a_href:"#1",img_src:'images/banner3.jpg'},{a_href:"#",img_src:"images/banner2.jpg"},{a_href:"#",img_src:"images/banner3.jpg"},{a_href:"#",img_src:"images/banner4.jpg"}];
			var slider = new SliderLoopImg(arr,'#banner_img_ctn');
			slider.create();
			slider.autoRun();
			slider.changeImage();
		}
		function delay_fn(starter,fn){
			var current_time = new Date();
			var timer = setInterval(function(){
				current_time = new Date();
				if(current_time-starter>300){
					fn();
					clearInterval(timer);
				}else{
					return;
				}
			},100);
		}
		function debounce(fn, delay) {
			var timer = null;
			return function () {
				var context = this, args = arguments;
				clearTimeout(timer);
				timer = setTimeout(function () {
					fn.apply(context, args);
				}, delay);
			};
		}
	</script>
</body>
</html>